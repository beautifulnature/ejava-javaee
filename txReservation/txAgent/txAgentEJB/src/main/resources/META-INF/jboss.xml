<?xml version="1.0" encoding="UTF-8"?>
<jboss 
    xmlns="http://www.jboss.com/xml/ns/javaee" 
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
    xsi:schemaLocation ="http://www.jboss.com/xml/ns/javaee http://www.jboss.org/j2ee/schema/jboss_5_0.xsd" 
    version="3.0">
    
    <!--
        Note that the names for the remote HotelReservation EJBs are a bit 
        strange in this example. There are several implementations to choose
        from since this is part of a Transaction example project. We will
        be choosing the one that is designed to Require a transaction to 
        perform actions; not the default and definitely not RequiresNew.
        -->
    
    <enterprise-beans>
        <session>
            <ejb-name>BookingAgentEJB</ejb-name>
            <!-- this supplies a custom JNDI name for the EJB remote and
                 local interfaces to be located by remote/RMI clients
                 --> 
            <jndi-name>
                ejava/examples/txagent/BookingAgentEJB/remote
            </jndi-name>
            <local-jndi-name>
                ejava/examples/txagent/BookingAgentEJB/local
            </local-jndi-name>
            
            <!-- this supplies the JNDI name of the EJB that implements
                this remote interface for the ejb-ref. It is done this way
                by the "deployer" (a person) since the hotel is a separate
                application from the agent
                -->
            <ejb-ref>
                <ejb-ref-name>ejb/HotelReservation</ejb-ref-name>
                <jndi-name>
                    jnp://localhost:1099/ejava/examples/txhotel/RequiredEJB/remote
                </jndi-name>
            </ejb-ref>
        </session>
        
        <session>
            <ejb-name>AgentReservationSessionEJB</ejb-name>
            <!-- this is a manual entry to supply the global JNDI name for the
                ejb-ref declared in ejb-jar.xml and used to inject the 
                object into the EJB.
                 -->
                <!-- you should see this name in the global JNDI tree -->
            <ejb-ref>
                <ejb-ref-name>ejb/HotelReservationSession</ejb-ref-name>
                <jndi-name>
                    jnp://localhost:1099/txHotelEAR/RequiredSessionEJB/remote
                </jndi-name>
            </ejb-ref>
        </session>        
     
    </enterprise-beans>
</jboss>
