<?xml version="1.0"?>
<ejb-jar
    xmlns="http://java.sun.com/xml/ns/javaee" 
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/ejb-jar_3_1.xsd"
    version="3.1">
    
    <enterprise-beans>
        <session>
            <ejb-name>BookingAgentEJB</ejb-name>
            <ejb-class>
                ejava.examples.txagent.ejb.BookingAgentEJB
            </ejb-class>
            <session-type>Stateless</session-type>
        </session>
        
        <session>                      
            <ejb-name>AgentReservationSessionEJB</ejb-name>
            <ejb-class>
                ejava.examples.txagent.ejb.AgentReservationSessionEJB
            </ejb-class>
            <session-type>Stateful</session-type>
            <remove-method>
                <bean-method>
                    <method-name>commit</method-name>
                </bean-method>
                <retain-if-exception>false</retain-if-exception>
            </remove-method>
        </session>        
    </enterprise-beans>
    
    <assembly-descriptor>
        <!-- perform all stateless methods within a tx -->
        <!-- this example will define these within the bean class
        <container-transaction>
            <method>
                <ejb-name>BookingAgentEJB</ejb-name>
                <method-name>*</method-name>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        -->
        
        <!-- only create a transaction for the commit() method -->
        <!-- this example will define these within the bean class 
            <container-transaction>
            <method>
                <ejb-name>AgentReservationSessionEJB</ejb-name>
                <method-name>*</method-name>
            </method>
            <trans-attribute>NotSupported</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>AgentReservationSessionEJB</ejb-name>
                <method-name>commit</method-name>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        -->
    </assembly-descriptor>
</ejb-jar>
