<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
        
    <parent>
        <groupId>ejava.javaee.projects.eDataShare</groupId>
        <artifactId>eDmvData</artifactId>
        <version>2.0.2011.1rc1</version>
    </parent>

    <modelVersion>4.0.0</modelVersion>
    <artifactId>eDmvDTO</artifactId>
    <name>eDmv DTO</name>
    <description>
        This project provides the data transfer objects and XML parser
        used to provide an initial starting point for ingesting data
        into the class database. The parser and DTOs are to be
        used to obtain data for project-specific business objects for
        ingest. Once the ingest is complete, there should not longer be
        any downstream dependency on this project or classes/interfaces
        within. A separate project is provided to provide test data. Use
        that project for your primary dependency as it will bring in
        default implementation classes for JAXB and StAX needed for
        runtime use.
    </description>

    <dependencies>
        <dependency>
            <groupId>commons-logging</groupId>
            <artifactId>commons-logging</artifactId>
            <version>1.0.4</version>
            <scope>compile</scope>
        </dependency>
        <dependency>
            <groupId>javax.xml.bind</groupId>
            <artifactId>jaxb-api</artifactId>
            <version>2.1</version>
            <scope>compile</scope>
        </dependency>

        <!-- StAX Impl (javax.xml.stream.XMLInputFactory) 
            this is an implementation for StAX; it can be defined/used by anyone
            for runtime use.
                -->
        <dependency>
            <groupId>stax</groupId>
            <artifactId>stax</artifactId>
            <version>1.2.0</version>
            <scope>test</scope>
            <exclusions>
                <exclusion>
                    <groupId>stax</groupId>
                    <artifactId>stax-api</artifactId>
                </exclusion>
            </exclusions>
        </dependency>

        <!-- JAXB Reference Impl (com.sun.xml.bind.v2.ContextFactory)
            this is an implementation for JAXB; it can be defined/used by anyone
            for runtime use.

            2009-09: added compile dependency to create a custom IDResolver
            that allowed multiple unmarshal calls to resolve other intances.
        -->
        <dependency>
            <groupId>com.sun.xml.bind</groupId>
            <artifactId>jaxb-impl</artifactId>
            <version>2.1.12</version>
            <scope>compile</scope>
        </dependency>


        <!-- added a dependency on Xerces to hopefully stablize the
            lexical representation of gMonth formats when changing
            JRE versions. 
            -->
        <dependency>
            <groupId>xerces</groupId>
            <artifactId>xercesImpl</artifactId>
            <version>2.9.1</version>
            <scope>test</scope>
        </dependency>

        <!-- core project testing dependencies -->
        <dependency>
            <groupId>junit</groupId>
            <artifactId>junit</artifactId>
            <version>4.6</version>
            <scope>test</scope>
        </dependency>        
        <dependency>
            <groupId>log4j</groupId>
            <artifactId>log4j</artifactId>
            <version>1.2.13</version>
            <scope>test</scope>
        </dependency>    
    </dependencies>

    <build>
        <plugins>
            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-surefire-plugin</artifactId>
                <configuration>
                    <argLine>${surefire.argLine}</argLine>
                </configuration>
            </plugin>
        </plugins>
    </build>

    <profiles>
        <profile> <!-- place in profile to limit when code generated -->
            <id>jaxbgen</id>
            <activation>
                <property> <!-- setting this property will turn off XML gen -->
                    <name>!nojaxb</name>
                </property>
            </activation>
            <!-- used to resolve the value constructor -->
            <repositories>
                <repository>
                    <id>webdev-baseline</id>
                    <name>webdev.apl.jhu.edu baseline</name>
                    <url>http://webdev.apl.jhu.edu/~jcs/maven2</url>
                </repository>
            </repositories>
            <pluginRepositories>
                <!-- used to get maven-jaxb2-plugin -->
                <pluginRepository>
                    <id>download-java-net</id>
                    <name>Java.net Maven Repository</name>
                    <url>http://download.java.net/maven/2</url>
                </pluginRepository>
                <pluginRepository>
                    <id>webdev-plugins</id>
                    <name>ejava webdev repository</name>
                    <url>http://webdev.apl.jhu.edu/~jcs/maven2</url>
                </pluginRepository>
            </pluginRepositories>
            <build>
	            <plugins>

        <!-- generate Java classes from XML Schema -->
        <plugin>
            <groupId>org.jvnet.jaxb2.maven2</groupId>
            <artifactId>maven-jaxb2-plugin</artifactId>
            <version>0.7.1</version>
            <executions>
                <execution>
                	<phase>generate-sources</phase>
                    <goals>
                        <goal>generate</goal>
                    </goals>
                </execution>
            </executions>
            <configuration>
                <schemaDirectory>src/main/resources/xsd</schemaDirectory>
                <schemaIncludes>
                    <schemaIncludes>dmv.xsd</schemaIncludes>
                </schemaIncludes>

                <bindingDirectory>src/main/resources/xsd</bindingDirectory>
                <bindingIncludes>
                    <bindingInclude>**/*.xjb</bindingInclude>
                </bindingIncludes>
                <extension>true</extension>
                <args>
                    <arg>-Xvalue-constructor</arg>
                </args>
                <plugins>
                    <!-- this is hosted on webdev -->
                    <plugin>
                        <groupId>jaxb2-commons</groupId>
                        <artifactId>value-constructor</artifactId>
                        <version>1.5</version>
                    </plugin>
                </plugins> 
            </configuration>
            <dependencies>
            </dependencies>
        </plugin>

    	        </plugins>
            </build>
        </profile>
    </profiles>
</project>
