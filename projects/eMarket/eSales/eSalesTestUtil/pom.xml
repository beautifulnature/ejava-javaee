<?xml version="1.0"?>
<project xmlns="http://maven.apache.org/POM/4.0.0" 
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
    xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 
        http://maven.apache.org/maven-v4_0_0.xsd">
        
    <parent>
        <groupId>ejava.javaee.projects.eMarket</groupId>
        <artifactId>eSales</artifactId>
        <version>1.0.2007.1rc1</version>
    </parent>

    <modelVersion>4.0.0</modelVersion>
    <groupId>ejava.javaee.projects.eMarket.eSales</groupId>
    <artifactId>eSalesTestUtil</artifactId>
    <name>eSales TestUtil</name>
    <description>
        This project wraps the DTO project by supplying physical test data 
        and a default set of runtime specifications for the StAX parser and
        JAXB framework.
    </description>

    <dependencies>
        <dependency>
            <groupId>${pom.groupId}</groupId>
            <artifactId>eSalesDTO</artifactId>
            <version>${pom.version}</version>
            <scope>compile</scope>
        </dependency>

        <!-- THESE ARE RUNTIME JAXB and StAX IMPLENATIONS - they are declared 
            here with scope=compile to make it easier on runtime users of the 
            parser. Just like a database client, normally we would ship our
            component with only API dependencies and let the client decide.
            This approach makes it easier on the user that does not care
            what implementation to use and could override it if needed. -->

        <!-- JAXB Reference Impl (com.sun.xml.bind.v2.ContextFactory) -->
        <dependency>
            <groupId>com.sun.xml.bind</groupId>
            <artifactId>jaxb-impl</artifactId>
            <version>2.0.2</version>
            <scope>compile</scope>
        </dependency>
        <!-- StAX Reference Impl (javax.xml.stream.XMLInputFactory) -->
        <dependency>
            <groupId>com.sun.xml.stream</groupId>
            <artifactId>sjsxp</artifactId>
            <version>1.0</version>
            <scope>compile</scope>
            <exclusions>
                <exclusion>
                    <groupId>javax.xml.stream</groupId>
                    <artifactId>stax-api</artifactId>
                </exclusion>
            </exclusions>
        </dependency>
        
        <!-- true test dependencies -->
        <dependency>
            <groupId>commons-logging</groupId>
            <artifactId>commons-logging</artifactId>
            <version>1.0.4</version>
            <scope>test</scope>
        </dependency>
        <dependency>
            <groupId>junit</groupId>
            <artifactId>junit</artifactId>
            <version>3.8.1</version>
            <scope>test</scope>
        </dependency>
        <dependency>
            <groupId>log4j</groupId>
            <artifactId>log4j</artifactId>
            <version>1.2.13</version>
            <scope>test</scope>
        </dependency>        
    </dependencies>

    <build>
        <plugins>
            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-compiler-plugin</artifactId>
                <configuration>
                    <source>1.5</source>
                    <target>1.5</target>
                </configuration>
            </plugin>
            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-surefire-plugin</artifactId>
                <configuration>
                    <argLine>${surefire.argLine}</argLine>
                    <systemProperties>                                
                        <property>
                            <name>inputDir</name>
                            <value>target/classes/xml</value>
                        </property>
                    </systemProperties>                                
                </configuration>
            </plugin>
        </plugins>
    </build>

    <profiles>
        <profile>
            <id>devel</id>
            <activation>
                <property>
                    <name>devel</name>
                    <value>true</value>
                </property>
            </activation>
            <dependencies>
                <dependency>
                    <groupId>${pom.groupId}</groupId>
                    <artifactId>eSalesDataGen</artifactId>
                    <version>${pom.version}</version>
                    <scope>provided</scope>
                </dependency>
            </dependencies>
        </profile>
    </profiles>
</project>
