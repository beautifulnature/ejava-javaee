<web-app xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
 xsi:schemaLocation="http://java.sun.com/xml/ns/j2ee 
 http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd"
 xmlns="http://java.sun.com/xml/ns/j2ee"
 version="2.4">
 
    <display-name>Web Tier Sample Application</display-name>

    <filter>
        <filter-name>JPAFilter</filter-name>
        <filter-class>ejava.examples.webtier.web.JPAFilter</filter-class>
    </filter>
    
    <!--
    <filter-mapping>
        <filter-name>JPAFilter</filter-name>
        <url-pattern>/jpa</url-pattern>
    </filter-mapping>
    -->
 
    <servlet>
        <servlet-name>jpatest</servlet-name>
        <servlet-class>ejava.examples.webtier.web.JPADAOInit</servlet-class>
    </servlet>   
    <servlet-mapping>
        <servlet-name>jpatest</servlet-name>
        <url-pattern>/jpa</url-pattern>
    </servlet-mapping>

    <env-entry>
        <env-entry-name>persistence/testval</env-entry-name>
        <env-entry-type>java.lang.String</env-entry-type>
        <env-entry-value>Hello</env-entry-value>
    </env-entry>
    
    <persistence-context-ref>
        <persistence-context-ref-name>
            persistence/webtier
        </persistence-context-ref-name>
        <persistence-unit-name>webtier</persistence-unit-name>
        <injection-target>
            <injection-target-class>
                ejava.examples.webtier.web.JPADAOInit
            </injection-target-class>
            <injection-target-name>em</injection-target-name>
        </injection-target>
        <injection-target>
            <injection-target-class>
                ejava.examples.webtier.web.JPAFilter
            </injection-target-class>
            <injection-target-name>pc</injection-target-name>
        </injection-target>
    </persistence-context-ref>    
</web-app>
